(self.webpackChunk=self.webpackChunk||[]).push([[462],{12:()=>{const e={pomodoro:25,shortBreak:5,longBreak:15,longBreakInterval:4,sessions:0},t=document.querySelector(".pomodoro__inner"),n=document.querySelector("#js-mode-buttons"),o=document.getElementById("js-btn"),a=new Audio("../../assets/sounds/pomodoro_button-sound.mp3");let s;function c(){let{total:t}=e.remainingTime;const n=Date.parse(new Date)+1e3*t;"pomodoro"===e.mode&&e.sessions++,o.dataset.action="stop",o.textContent="stop",o.classList.add("active"),s=setInterval((function(){e.remainingTime=function(e){const t=e-Date.parse(new Date),n=Number.parseInt(t/1e3,10);return{total:n,minutes:Number.parseInt(n/60%60,10),seconds:Number.parseInt(n%60,10)}}(n),l(),t=e.remainingTime.total,t<=0&&(clearInterval(s),"pomodoro"===e.mode?e.sessions%e.longBreakInterval==0?i("longBreak"):i("shortBreak"):i("pomodoro"),c())}),1e3)}function r(){clearInterval(s),o.dataset.action="start",o.textContent="start",o.classList.remove("active")}function l(){const{remainingTime:n}=e,o=`${n.minutes}`.padStart(2,"0"),a=`${n.seconds}`.padStart(2,"0"),s=document.getElementById("js-minutes"),c=document.getElementById("js-seconds");if(s.textContent=o,c.textContent=a,t.closest(".active")){const t="pomodoro"===e.mode?"Get back to work! - momentum":"Take a break! - momentum";document.title=`${o}:${a} — ${t}`}document.getElementById("js-progress").value=60*e[e.mode]-e.remainingTime.total}function i(n){e.mode=n,e.remainingTime={total:60*e[n],minutes:e[n],seconds:0},document.querySelectorAll("button[data-mode]").forEach((e=>e.classList.remove("active"))),document.querySelector(`[data-mode="${n}"]`).classList.add("active"),t.style.backgroundColor=`var(--${n})`,document.getElementById("js-progress").setAttribute("max",e.remainingTime.total),document.querySelector(`[data-sound="${e.mode}"]`).play(),l()}document.addEventListener("DOMContentLoaded",(()=>{i("pomodoro")})),document.addEventListener("click",(function(e){e.target.closest(".pomodoro")&&(t.classList.toggle("active"),document.title="momentum")})),n.addEventListener("click",(function(e){const{mode:t}=e.target.dataset;t&&(i(t),r())})),o.addEventListener("click",(()=>{a.play();const{action:e}=o.dataset;"start"===e?c():r()}))},401:()=>{const e=document.querySelector(".setting__wrapper"),t=document.querySelectorAll(".checkbox__setting");function n(){let e=[];t.forEach((t=>{let n=t.id;!0===t.checked&&e.push(n)})),localStorage.setItem("setting",JSON.stringify(e))}document.addEventListener("click",(function(t){const o=t.target;if(o.closest(".setting-icon")&&e.classList.toggle("active"),o.closest(".checkbox__setting")){if(!0===o.checked){let e=`.${o.id}__wrapper`;document.querySelector(e).classList.add("hidden"),n()}if(!1===o.checked){let e=`.${o.id}__wrapper`;document.querySelector(e).classList.remove("hidden"),n()}}})),document.addEventListener("DOMContentLoaded",(function(){!function(){let e=JSON.parse(localStorage.getItem("setting"));t.forEach((t=>{let n=t.id;e.forEach((e=>{if(n===e){t.checked=!0;let e=`.${n}__wrapper`;document.querySelector(e).classList.add("hidden")}}))}))}()}))},462:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getRandomNum:()=>Ke});const o=document.querySelector(".time"),a=document.querySelector(".date");function s(){const e=(new Date).toLocaleTimeString();o.textContent=e,function(){const e=(new Date).toLocaleDateString(Q(D),{month:"long",day:"numeric",weekday:"long"});a.textContent=e[0].toUpperCase()+e.slice(1)}(),function(){const e=`${Q(I)[Z]}, `;V.textContent=e}(),setTimeout(s,1e3)}const c=document.querySelector(".weather-icon"),r=document.querySelector(".temperature"),l=document.querySelector(".weather-description"),i=document.querySelector(".weather-error"),u=document.querySelector(".wind"),d=document.querySelector(".humidity"),m=document.querySelector(".city");let g="Minsk";function p(e){return Math.round(e,1)}function v(){localStorage.setItem("city",m.value)}async function f(e){const t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&lang=${Q(T)}&appid=003857592feb5ff0def8aa4fade433b5&units=metric`,n=await fetch(t),o=await n.json();200===o.cod&&(c.className=`weather-icon owf owf-${o.weather[0].id}`,r.textContent=`${p(o.main.temp)}°C `,l.textContent=o.weather[0].description,u.textContent=`${Q(j)}: ${p(o.wind.speed)} ${Q(M)}`,d.textContent=`${Q(A)}: ${p(o.main.humidity)} %`,i.textContent=""),200!=o.cod&&(c.classList="",r.textContent="",l.textContent="",u.textContent="",d.textContent="",i.textContent=`${o.message}: ${o.cod}`)}document.addEventListener("DOMContentLoaded",(function(){localStorage.getItem("city")?(m.value=localStorage.getItem("city"),f(m.value)):(m.value=g,f(g))})),m.addEventListener("keypress",(function(e){"Enter"===e.code&&(f(m.value),m.blur())})),m.addEventListener("change",v),window.addEventListener("beforeunload",v),m.addEventListener("click",(function(){m.value=""}));const y=document.querySelector(".quote"),h=document.querySelector(".author");async function k(e){const t=e,n=await fetch(t),o=await n.json();let a=Ke(0,o.length);y.innerText=o[a].text,h.innerText=o[a].author}document.querySelector(".change-quote").addEventListener("click",(()=>{k(Q(B))}));const S=document.querySelector("#translation-checkbox"),E=document.querySelector(".footer__text"),L=document.querySelector(".city"),q=document.querySelector(".name"),_=document.querySelector(".radio-image-tag"),x=document.querySelector(".todo__text"),$=document.querySelector(".todo__filter--all"),w=document.querySelector(".todo__filter--pending"),b=document.querySelector(".todo__filter--completed"),C=document.querySelector(".clear"),I={eng:["Good night","Good morning","Good afternoon","Good evening"],rus:["Доброй ночи","Доброе утро","Добрый день","Добрый вечер"]},T={eng:"en",rus:"ru"},j={eng:"Wind speed",rus:"Скорость ветра"},A={eng:"Humidity",rus:"Влажность"},M={eng:"m/s",rus:"м/с"},D={eng:"en-EN",rus:"ru-RU"},B={eng:"https://type.fit/api/quotes",rus:"assets/json/data-quote.json"},N={eng:"API images",rus:"API изображений"},O={eng:"[Enter city]",rus:"[Введите город]"},F={eng:"[Enter name]",rus:"[Введите имя]"},G={eng:"[Enter tag image]",rus:"[Ключевое слово для изображения]"},J={eng:"[Enter new task]",rus:"[Введите новую задачу]"},R={eng:"All",rus:"Все"},Y={eng:"Pending",rus:"В ожидании"},H={eng:"Completed",rus:"Завершено"},U={eng:"Clear All",rus:"Очистить"},P={eng:"You don&apos;t have any task here",rus:"Нет задач"},W={eng:"edit",rus:"изменить"},z={eng:"delete",rus:"удалить"};function Q(e){return S.checked?e.rus:e.eng}function K(){s(),f(m.value),k(Q(B)),function(){const e=Q(N);E.textContent=e}(),L.placeholder=Q(O),q.placeholder=Q(F),_.placeholder=Q(G),x.placeholder=Q(J),function(){const e=document.querySelector(".task__no-item");document.querySelector(".task--edit"),document.querySelector(".task--delete"),$.innerText=Q(R),w.innerText=Q(Y),b.innerText=Q(H),C.innerText=Q(U),e.innerText=Q(P)}()}S.addEventListener("click",(()=>{localStorage.setItem("language",S.checked?"rus":"eng"),K()})),document.addEventListener("DOMContentLoaded",(function(){"rus"===localStorage.getItem("language")?(S.checked=!0,K()):(S.checked=!1,K())}));const V=document.querySelector(".greeting"),X=document.querySelector(".name");let Z=0;function ee(){const e=(new Date).getHours();return Z=Math.floor(e/6),["night","morning","day","evening"][Z]}function te(){localStorage.setItem("name",X.value)}X.addEventListener("focus",(function(){X.value=""})),X.addEventListener("change",(function(){te()})),window.addEventListener("beforeunload",te),window.addEventListener("load",(function(){localStorage.getItem("name")&&(X.value=localStorage.getItem("name"))}));const ne=document.querySelector(".footer__api"),oe=document.querySelectorAll(".radio-image-api"),ae=document.querySelector(".radio-image-tag"),se=document.querySelector(".slide-prev"),ce=document.querySelector(".slide-next");let re="",le="",ie="";function ue(){let e="";return oe.forEach((t=>{t.checked&&(e=t.value)})),e}async function de(e=ee()){const t=`https://api.unsplash.com/photos/random?orientation=landscape&query=${e}&client_id=zdEkaNyxosOqQdRciqyzDDOY_u202OUB0FyIfaTFkcY`;console.log("url Unsplash: ",t),le=await fetch(t).then((e=>e.json())).then((e=>e.urls.regular));const n=new Image;n.src=`${le}`,n.onload=()=>{pe.style.backgroundImage=`url('${le}')`}}async function me(e=`${ee()},nature`){const t=`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=d61240548aa4eadfdc660e27e7e5f4b4&tags=${e}&extras=url_l&format=json&nojsoncallback=1`;console.log("url Flickr: ",t),ie=await fetch(t).then((e=>e.json())).then((e=>e.photos.photo[Ke(0,100)].url_l));const n=new Image;n.src=`${ie}`,n.onload=()=>{pe.style.backgroundImage=`url('${ie}')`}}ne.addEventListener("click",(e=>{const t=e.target;let n=Ke(1,20);"github"===t.value?(ae.classList.remove("active"),ke(n)):"unsplash"===t.value?(ae.classList.add("active"),de(ae.value?ae.value:ee())):"flickr"===t.value&&(ae.classList.add("active"),me(ae.value?ae.value:`${ee()},nature`))})),se.addEventListener("click",(()=>{"unsplash"===ue()&&de(ae.value?ae.value:ee()),"flickr"===ue()&&me(ae.value?ae.value:`${ee()},nature`)})),ce.addEventListener("click",(()=>{"unsplash"===ue()&&de(ae.value?ae.value:ee()),"flickr"===ue()&&me(ae.value?ae.value:`${ee()},nature`)})),ae.addEventListener("keyup",(function(e){if(13===e.keyCode)return re=e.target.value.split(" ").join(""),"unsplash"===ue()?(ae.classList.add("active"),de(re)):"flickr"===ue()&&(ae.classList.add("active"),me(re)),!1}));const ge="https://raw.githubusercontent.com/maximiloi/stage1-tasks/assets/images/",pe=document.querySelector("body"),ve=document.querySelector(".slide-prev"),fe=document.querySelector(".slide-next");let ye=Ke(1,20);function he(e){return`${ee()}/${function(e){return e.toString().padStart(2,"0")}(e)}`}function ke(e){const t=new Image;t.src=`${ge}${he(e)}.jpg`,t.onload=()=>{pe.style.backgroundImage=`url('${ge}${he(e)}.jpg')`}}ke(ye),ve.addEventListener("click",(()=>{"github"===ue()&&(ye>1?(ye-=1,ke(ye)):(ye=20,ke(ye)))})),fe.addEventListener("click",(()=>{"github"===ue()&&(ye<20?(ye+=1,ke(ye)):(ye=1,ke(ye)))}));const Se=[{title:"Summer Wind",src:"./assets/sounds/Summer_Wind.mp3",duration:"01:51"},{title:"Aqua Caelestis",src:"./assets/sounds/Aqua_Caelestis.mp3",duration:"00:40"},{title:"River Flows In You",src:"./assets/sounds/River_Flows_In_You.mp3",duration:"01:37"},{title:"Ennio Morricone",src:"./assets/sounds/Ennio_Morricone.mp3",duration:"01:37"}],Ee=document.querySelector(".play"),Le=document.querySelector(".play-prev"),qe=document.querySelector(".play-next"),_e=document.querySelector(".volume"),xe=document.querySelector(".play-list"),$e=document.querySelector(".player-name"),we=document.querySelector(".player-current-time"),be=document.querySelector(".player-total-time"),Ce=document.querySelector(".player-duration"),Ie=document.querySelector(".player-volume"),Te=new Audio;let je=0,Ae=!1,Me=!1;function De(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n<10?`0${n}`:`${n}`}`}function Be(){be.textContent=De(Te.duration)}function Ne(){Ce.max=Math.floor(Te.duration)}function Oe(e){const t=document.querySelectorAll(".play-item");t.forEach((e=>e.classList.remove("item-active"))),t[e].classList.add("item-active"),$e.textContent=t[e].textContent}function Fe(e){Te.src=Se[e].src,Te.currentTime=Ce.value,Ae?(Te.pause(),Ae=!1):(Te.play(),Ae=!0,Oe(e))}function Ge(){Ae&&(Te.pause(),Ae=!1,Ee.classList.remove("pause")),je===Se.length-1?(je=0,Oe(je)):(je+=1,Oe(je)),Fe(je),Te.currentTime=0,Ee.classList.add("pause")}function Je(e,t){e.classList.toggle(t)}!function(){const e=Se.reduce(((e,t)=>e+`<li class="play-item">${t.title}</li>`),"");xe.innerHTML=e}(),Te.readyState>0?(Be(),Ne()):Te.addEventListener("loadedmetadata",(()=>{Be(),Ne()})),Ee.addEventListener("click",(()=>{Je(Ee,"pause"),Fe(je)})),Le.addEventListener("click",(function(){Ae&&(Te.pause(),Ae=!1,Ee.classList.remove("pause")),0===je?(je=Se.length-1,Oe(je)):(je-=1,Oe(je)),Fe(je),Te.currentTime=0,Ee.classList.add("pause")})),qe.addEventListener("click",Ge),_e.addEventListener("click",(()=>{Je(_e,"mute"),Me?(Te.muted=!1,Me=!1):(Te.muted=!0,Me=!0)})),Te.addEventListener("ended",(()=>{Ge(),Ee.classList.add("pause")})),Te.addEventListener("timeupdate",(()=>{Ce.value=Math.floor(Te.currentTime),we.textContent=De(Ce.value)})),Ie.addEventListener("input",(e=>{const t=e.target.value;Te.volume=t/100})),Ce.addEventListener("input",(()=>{we.textContent=De(Ce.value)})),Ce.addEventListener("change",(()=>{Te.currentTime=Ce.value})),xe.addEventListener("click",(e=>{Se.forEach(((t,n)=>{e.target.innerText===t.title&&(Ae=!1,je=n,Je(Ee,"pause"),Fe(n))}))}));const Re=document.querySelector(".todo__inner"),Ye=document.querySelector(".todo__text"),He=document.querySelectorAll(".todo__filter span"),Ue=document.querySelector(".todo__task-box");let Pe=JSON.parse(localStorage.getItem("todo-list")),We=0,ze=!1;function Qe(e){let t="";Pe&&Pe.forEach(((n,o)=>{let a="completed"==n.status?"checked":"";e!=n.status&&"all"!=e||(t+=`<li class="todo__task task">\n                            <label for="${o}">\n                                <input class="task__checkbox" type="checkbox"  id="${o}" ${a}>\n                                <p class="${a}">${n.name}</p>\n                            </label>\n                            <div class="task__setting">\n                                <span class="task__setting--point">...</span>\n                                <ul class="task__menu">\n                                    <li class="task--edit">${Q(W)}</li>\n                                    <li class="task--delete">${Q(z)}</li>\n                                </ul>\n                            </div>\n                        </li>`)})),Ue.innerHTML=t||`<span class="task__no-item">${Q(P)}</span>`}function Ke(e,t){return Math.floor(Math.random()*t)+e}document.addEventListener("click",(function(e){const t=e.target;if(t.closest(".todo")&&Re.classList.toggle("active"),t.closest(".task--edit")){let e=t.parentElement.parentElement.previousElementSibling.getAttribute("for"),n=t.parentElement.parentElement.previousElementSibling.lastElementChild.innerText;We=e,ze=!0,Ye.value=n}if(t.closest(".task--delete")){let e=t.parentElement.parentElement.previousElementSibling.getAttribute("for");Pe.splice(e,1),t.parentElement.remove("open"),Qe("all")}if(t.closest(".clear")&&(Pe.splice(0,Pe.length),Qe("all")),t.closest(".task__menu.open")||document.querySelectorAll(".task__menu").forEach((e=>{e.closest(".open")&&e.classList.remove("open")})),t.closest(".task__setting--point")&&t.nextElementSibling.classList.add("open"),t.closest(".task__checkbox")){let e=t.parentElement.lastElementChild;t.checked?(e.classList.add("checked"),Pe[t.id].status="completed"):(e.classList.remove("checked"),Pe[t.id].status="pending")}t.closest(".todo__filter")&&(He.forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),Qe(t.dataset.filter)),localStorage.setItem("todo-list",JSON.stringify(Pe))})),Ye.addEventListener("keyup",(function(e){let t=Ye.value.trim();if(13===e.keyCode&&t){if(ze)ze=!1,Pe[We].name=t;else{Pe||(Pe=[]);let e={name:t,status:"pending"};Pe.push(e)}Ye.value="",localStorage.setItem("todo-list",JSON.stringify(Pe)),Qe("all")}})),Qe("all"),n(12),n(401)}}]);